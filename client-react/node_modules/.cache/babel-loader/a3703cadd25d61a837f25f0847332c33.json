{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Ben Contreras\\\\Desktop\\\\GroupFinalProject1\\\\team-sakaar\\\\client-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Ben Contreras\\\\Desktop\\\\GroupFinalProject1\\\\team-sakaar\\\\client-react\\\\src\\\\components\\\\Venue\\\\VenueLogin.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport cookies from 'cookiesjs';\nimport \"./Venue.css\";\nimport { Container, Row, Col, FormControl, InputGroup, Button, Form } from \"react-bootstrap\";\nimport Footer from \"../Footer/Footer\";\nimport VenueHeader from \"./VenueHeader\";\n\nfunction VenueLogin() {\n  var axios = require('axios');\n\n  var history = useHistory();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      submit = _useState6[0],\n      setSubmit = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      error = _useState8[0],\n      setError = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      status = _useState10[0],\n      setStatus = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      statusMessage = _useState12[0],\n      setStatusMessage = _useState12[1];\n\n  useEffect(function () {\n    console.log(\"\\n      username: \".concat(username, \"\\n    \"));\n  });\n\n  var handleSubmit = function handleSubmit(e) {\n    var url = 'http://localhost:3001/venue-login';\n    e.preventDefault();\n    axios.post(url, {\n      Username: username,\n      Password: password\n    }).then(function (res) {\n      setSubmit(true); // console.log(res.data)\n\n      if (res.data.status === parseInt(401)) {\n        setStatus(res.data.status);\n        setError(res.data.message);\n        console.log(res.data.status);\n      }\n\n      if (res.data.status === parseInt(200)) {\n        setStatus(res.data.status); //set cookie and verify\n        // document.cookie = `jwt=${res.data.token}`;\n\n        cookies({\n          jwt: res.data.token\n        });\n        history.push(\"/venue-dashboard\", [res.data]);\n      }\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(VenueHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(Col, {\n    md: 12,\n    id: \"venue-pic-container\",\n    className: \"shadow-lg\",\n    style: {\n      height: '50vh'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(Col, {\n    className: \"mt-5 p-5 mx-auto\",\n    md: 12,\n    style: {\n      position: 'relative',\n      top: '-30px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"text-white my-3 mx-auto rounded bg-danger w-50\",\n    style: {\n      display: error ? '' : 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \" \", React.createElement(\"i\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, error), \" \"), React.createElement(Form, {\n    id: \"form\",\n    onSubmit: handleSubmit,\n    className: \"w-75 m-auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(InputGroup, {\n    className: \"mb-3 shadow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    type: \"text\",\n    value: username,\n    onChange: function onChange(e) {\n      return setUsername(e.target.value);\n    },\n    className: \"border border-dark\",\n    placeholder: \"Username\",\n    \"aria-label\": \"Username\",\n    \"aria-describedby\": \"basic-addon1\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), React.createElement(FormControl, {\n    type: \"password\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    className: \"border border-dark\",\n    placeholder: \"Password\",\n    \"aria-label\": \"Password\",\n    \"aria-describedby\": \"basic-addon1\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), React.createElement(InputGroup.Append, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"dark\",\n    type: \"submit\",\n    className: \"float-right border border-darl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Login\"))))))), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }));\n}\n\nexport default VenueLogin;","map":{"version":3,"sources":["C:/Users/Ben Contreras/Desktop/GroupFinalProject1/team-sakaar/client-react/src/components/Venue/VenueLogin.js"],"names":["React","useState","useEffect","useHistory","cookies","Container","Row","Col","FormControl","InputGroup","Button","Form","Footer","VenueHeader","VenueLogin","axios","require","history","username","setUsername","password","setPassword","submit","setSubmit","error","setError","status","setStatus","statusMessage","setStatusMessage","console","log","handleSubmit","e","url","preventDefault","post","Username","Password","then","res","data","parseInt","message","jwt","token","push","catch","err","height","position","top","display","target","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,OAAO,aAAP;AACA,SACEC,SADF,EAEEC,GAFF,EAGEC,GAHF,EAIEC,WAJF,EAKEC,UALF,EAMEC,MANF,EAOEC,IAPF,QAQO,iBARP;AAUA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAKA,SAASC,UAAT,GAAsB;AAEpB,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAIC,OAAO,GAAGd,UAAU,EAAxB;;AAHoB,kBAKYF,QAAQ,CAAC,EAAD,CALpB;AAAA;AAAA,MAKbiB,QALa;AAAA,MAKHC,WALG;;AAAA,mBAMYlB,QAAQ,CAAC,EAAD,CANpB;AAAA;AAAA,MAMbmB,QANa;AAAA,MAMHC,WANG;;AAAA,mBAOQpB,QAAQ,CAAC,KAAD,CAPhB;AAAA;AAAA,MAObqB,MAPa;AAAA,MAOLC,SAPK;;AAAA,mBAQMtB,QAAQ,CAAC,EAAD,CARd;AAAA;AAAA,MAQbuB,KARa;AAAA,MAQNC,QARM;;AAAA,mBASQxB,QAAQ,CAAC,EAAD,CAThB;AAAA;AAAA,MASbyB,MATa;AAAA,MASLC,SATK;;AAAA,oBAUsB1B,QAAQ,CAAC,EAAD,CAV9B;AAAA;AAAA,MAUb2B,aAVa;AAAA,MAUEC,gBAVF;;AAYpB3B,EAAAA,SAAS,CAAE,YAAM;AACf4B,IAAAA,OAAO,CAACC,GAAR,6BACcb,QADd;AAGD,GAJQ,CAAT;;AAMA,MAAMc,YAAY,GAAG,SAAfA,YAAe,CAAAC,CAAC,EAAI;AACxB,QAAMC,GAAG,GAAG,mCAAZ;AAEAD,IAAAA,CAAC,CAACE,cAAF;AAEApB,IAAAA,KAAK,CAACqB,IAAN,CAAYF,GAAZ,EAAiB;AACbG,MAAAA,QAAQ,EAAEnB,QADG;AAEboB,MAAAA,QAAQ,EAAElB;AAFG,KAAjB,EAICmB,IAJD,CAIO,UAAAC,GAAG,EAAK;AACXjB,MAAAA,SAAS,CAAC,IAAD,CAAT,CADW,CAEX;;AACA,UAAIiB,GAAG,CAACC,IAAJ,CAASf,MAAT,KAAoBgB,QAAQ,CAAE,GAAF,CAAhC,EAAyC;AACnCf,QAAAA,SAAS,CAAEa,GAAG,CAACC,IAAJ,CAASf,MAAX,CAAT;AACAD,QAAAA,QAAQ,CAAEe,GAAG,CAACC,IAAJ,CAASE,OAAX,CAAR;AACAb,QAAAA,OAAO,CAACC,GAAR,CAAaS,GAAG,CAACC,IAAJ,CAASf,MAAtB;AACL;;AAED,UAAIc,GAAG,CAACC,IAAJ,CAASf,MAAT,KAAoBgB,QAAQ,CAAE,GAAF,CAAhC,EAAyC;AACrCf,QAAAA,SAAS,CAAEa,GAAG,CAACC,IAAJ,CAASf,MAAX,CAAT,CADqC,CAErC;AACA;;AACAtB,QAAAA,OAAO,CAAC;AAAEwC,UAAAA,GAAG,EAAEJ,GAAG,CAACC,IAAJ,CAASI;AAAhB,SAAD,CAAP;AAEA5B,QAAAA,OAAO,CAAC6B,IAAR,qBAEI,CAAEN,GAAG,CAACC,IAAN,CAFJ;AAIH;AAEJ,KAzBD,EA0BCM,KA1BD,CA0BQ,UAAAC,GAAG;AAAA,aAAIlB,OAAO,CAACC,GAAR,CAAaiB,GAAb,CAAJ;AAAA,KA1BX;AA4BD,GAjCD;;AAmCA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,EAAE,EAAC,qBAAhB;AAAsC,IAAA,SAAS,EAAC,WAAhD;AAA4D,IAAA,KAAK,EAAE;AAACC,MAAAA,MAAM,EAAC;AAAR,KAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAKE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAkC,IAAA,EAAE,EAAE,EAAtC;AAA0C,IAAA,KAAK,EAAE;AAACC,MAAAA,QAAQ,EAAC,UAAV;AAAqBC,MAAAA,GAAG,EAAC;AAAzB,KAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEA;AAAK,IAAA,SAAS,EAAC,gDAAf;AAAgE,IAAA,KAAK,EAAE;AAACC,MAAAA,OAAO,EAAC5B,KAAK,GAAC,EAAD,GAAI;AAAlB,KAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAmG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIA,KAAJ,CAAnG,MAFA,EAKI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,MAAT;AAAgB,IAAA,QAAQ,EAAEQ,YAA1B;AAAyC,IAAA,SAAS,EAAC,aAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,WAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,KAAK,EAAEd,QAFT;AAGE,IAAA,QAAQ,EAAG,kBAAAe,CAAC;AAAA,aAAId,WAAW,CAACc,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAf;AAAA,KAHd;AAIE,IAAA,SAAS,EAAC,oBAJZ;AAKE,IAAA,WAAW,EAAC,UALd;AAME,kBAAW,UANb;AAOE,wBAAiB,cAPnB;AAQE,IAAA,QAAQ,MARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAWE,oBAAC,WAAD;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,KAAK,EAAElC,QAFT;AAGE,IAAA,QAAQ,EAAG,kBAAAa,CAAC;AAAA,aAAIZ,WAAW,CAACY,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAf;AAAA,KAHd;AAIE,IAAA,SAAS,EAAC,oBAJZ;AAKE,IAAA,WAAW,EAAC,UALd;AAME,kBAAW,UANb;AAOE,wBAAiB,cAPnB;AAQE,IAAA,QAAQ,MARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,EAqBE,oBAAC,UAAD,CAAY,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAC,MADV;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,SAAS,EAAC,gCAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CArBF,CADF,CALJ,CADA,CALF,CAFF,EAkDE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlDF,CADF;AAsDD;;AAED,eAAexC,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport cookies from 'cookiesjs';\r\n\r\nimport \"./Venue.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  FormControl,\r\n  InputGroup,\r\n  Button,\r\n  Form\r\n} from \"react-bootstrap\";\r\n\r\nimport Footer from \"../Footer/Footer\";\r\nimport VenueHeader from \"./VenueHeader\";\r\n\r\n\r\n\r\n\r\nfunction VenueLogin() {\r\n\r\n  const axios = require('axios');\r\n  let history = useHistory();\r\n\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [submit, setSubmit] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [status, setStatus] = useState('');\r\n  const [statusMessage, setStatusMessage] = useState('');\r\n\r\n  useEffect( () => {\r\n    console.log(`\r\n      username: ${username}\r\n    `)\r\n  })\r\n\r\n  const handleSubmit = e => {\r\n    const url = 'http://localhost:3001/venue-login';\r\n  \r\n    e.preventDefault();\r\n    \r\n    axios.post( url, {\r\n        Username: username,\r\n        Password: password,\r\n    })\r\n    .then( res =>  {\r\n        setSubmit(true);\r\n        // console.log(res.data)\r\n        if( res.data.status === parseInt( 401 ) ){\r\n              setStatus( res.data.status )\r\n              setError( res.data.message )\r\n              console.log( res.data.status)\r\n        }\r\n  \r\n        if( res.data.status === parseInt( 200 ) ){\r\n            setStatus( res.data.status )\r\n            //set cookie and verify\r\n            // document.cookie = `jwt=${res.data.token}`;\r\n            cookies({ jwt: res.data.token })\r\n\r\n            history.push(\r\n                `/venue-dashboard`, \r\n                [ res.data ]\r\n            );\r\n        }\r\n       \r\n    })\r\n    .catch( err => console.log( err ) )\r\n  \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <VenueHeader />\r\n      <Container>\r\n        <Row>\r\n          <Col md={12} id=\"venue-pic-container\" className=\"shadow-lg\" style={{height:'50vh'}} />\r\n        </Row>\r\n\r\n        <Row>\r\n        <Col className=\"mt-5 p-5 mx-auto\" md={12} style={{position:'relative',top:'-30px'}}>\r\n\r\n        <div className='text-white my-3 mx-auto rounded bg-danger w-50' style={{display:error?'':'none'}}> <i>{error}</i> </div>\r\n\r\n            \r\n            <Form id='form' onSubmit={handleSubmit}  className=\"w-75 m-auto\">\r\n              <InputGroup className=\"mb-3 shadow\">\r\n                <FormControl\r\n                  type='text'\r\n                  value={username}\r\n                  onChange={ e => setUsername(e.target.value) }\r\n                  className=\"border border-dark\"\r\n                  placeholder=\"Username\"\r\n                  aria-label=\"Username\"\r\n                  aria-describedby=\"basic-addon1\"\r\n                  required\r\n                />\r\n                <FormControl\r\n                  type='password'\r\n                  value={password}\r\n                  onChange={ e => setPassword(e.target.value) }\r\n                  className=\"border border-dark\"\r\n                  placeholder=\"Password\"\r\n                  aria-label=\"Password\"\r\n                  aria-describedby=\"basic-addon1\"\r\n                  required\r\n                />\r\n                <InputGroup.Append>\r\n                  <Button\r\n                    variant=\"dark\"\r\n                    type=\"submit\"\r\n                    className=\"float-right border border-darl\"\r\n                  >\r\n                    Login\r\n                  </Button>\r\n                </InputGroup.Append>\r\n              </InputGroup>\r\n            </Form>\r\n            \r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VenueLogin;\r\n"]},"metadata":{},"sourceType":"module"}