{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Ben Contreras\\\\Desktop\\\\GroupFinalProject1\\\\team-sakaar\\\\client-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Ben Contreras\\\\Desktop\\\\GroupFinalProject1\\\\team-sakaar\\\\client-react\\\\src\\\\components\\\\Band\\\\Dashboard\\\\BandDashboard.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Figure } from 'react-bootstrap';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport cookies from 'cookies.js';\nimport styled from 'styled-components';\nimport { EditAlt } from 'styled-icons/boxicons-solid/EditAlt';\nimport './BandDashboard.css';\nimport DashboardHeader from './BandDashboardHeader';\n\nvar axios = require('axios');\n\nvar ClientDashboard = function ClientDashboard() {\n  var location = useLocation();\n  var history = useHistory();\n  var user = ''; //state\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      userName = _useState2[0],\n      setProfileName = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      accountType = _useState4[0],\n      setAccountType = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      login = _useState6[0],\n      setLogin = _useState6[1];\n\n  var getCookie = function getCookie(name) {\n    if (cookies(name)) {\n      return cookies(name);\n    } else {\n      history.push('/');\n    }\n  };\n\n  var verifyUser = function verifyUser(props) {\n    var jwtCookie = getCookie('jwt'); //verify if user has the cookie\n\n    var areYouVerified = axios.post('http://localhost:3001/verify', {\n      token: jwtCookie\n    });\n    areYouVerified.then(function (user) {\n      // user.data\n      if (!user.data.verified) {\n        console.log(\"NOT VERIFIED\");\n        history.push('/');\n      } else {\n        console.log('VERIFIED');\n        user = user.data;\n        setAccountType(user.accountType);\n        setProfileName(user.username);\n        setLogin(true);\n      }\n    });\n  };\n\n  useEffect(function () {\n    verifyUser();\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(DashboardHeader, {\n    username: userName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"profile-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(Figure, {\n    className: \"float-left ml-5 mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(Figure.Image, {\n    width: 400,\n    height: 300,\n    alt: \"171x180\",\n    src: \"https://www.nationalgeographic.com/content/dam/news/photos/000/795/79574.jpg\",\n    thumbnail: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(Figure.Caption, {\n    id: \"profile-picture\",\n    className: \"w-100 mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(Col, {\n    sm: 10,\n    md: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, userName)), React.createElement(Col, {\n    sm: 2,\n    md: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    id: \"profile-edit\",\n    className: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(EditAlt, {\n    id: \"icon\",\n    size: \"18\",\n    title: \"edit name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  })))))))), React.createElement(\"section\", {\n    id: \"news-feed\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }));\n};\n\nexport default ClientDashboard;","map":{"version":3,"sources":["C:/Users/Ben Contreras/Desktop/GroupFinalProject1/team-sakaar/client-react/src/components/Band/Dashboard/BandDashboard.js"],"names":["React","useState","useEffect","Container","Row","Col","Figure","useHistory","useLocation","cookies","styled","EditAlt","DashboardHeader","axios","require","ClientDashboard","location","history","user","userName","setProfileName","accountType","setAccountType","login","setLogin","getCookie","name","push","verifyUser","props","jwtCookie","areYouVerified","post","token","then","data","verified","console","log","username"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, Figure  } from 'react-bootstrap';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport cookies from 'cookies.js';\r\n\r\nimport styled from 'styled-components';\r\nimport { EditAlt } from 'styled-icons/boxicons-solid/EditAlt';\r\n\r\nimport './BandDashboard.css'\r\n\r\nimport DashboardHeader from './BandDashboardHeader'\r\nconst axios = require('axios');\r\n\r\n\r\nconst ClientDashboard = () => {\r\n   let location = useLocation();\r\n   let history = useHistory();\r\n   let user = '';\r\n\r\n   //state\r\n   const [userName, setProfileName] = useState(null);\r\n   const [accountType, setAccountType] = useState(null);\r\n   const [login, setLogin] = useState(false);\r\n\r\n   const getCookie = name => {\r\n\r\n      if( cookies(name) ){\r\n      \r\n         return cookies(name)\r\n      \r\n      }else {\r\n\r\n         history.push('/')\r\n      }\r\n         \r\n\r\n   }\r\n\r\n   const verifyUser = props => {\r\n     const jwtCookie = getCookie('jwt');\r\n\r\n      //verify if user has the cookie\r\n      const areYouVerified = axios.post('http://localhost:3001/verify', {\r\n         token: jwtCookie\r\n      });\r\n\r\n      areYouVerified.then(user => {\r\n         // user.data\r\n\r\n         if( !user.data.verified ){\r\n\r\n            console.log(\"NOT VERIFIED\")\r\n            history.push('/')\r\n         \r\n         }else{\r\n            \r\n            console.log('VERIFIED');\r\n            user = user.data;\r\n\r\n            setAccountType(user.accountType);\r\n            setProfileName(user.username);\r\n            setLogin(true)         \r\n         }\r\n\r\n          \r\n      });\r\n\r\n      \r\n   }\r\n\r\n  \r\n   useEffect( () => {\r\n      verifyUser();\r\n   });\r\n   \r\n\r\n   return (\r\n      <div>\r\n         <DashboardHeader username={userName} />\r\n         <div id='profile-container'>\r\n            <Figure className='float-left ml-5 mt-5'>\r\n               <Figure.Image\r\n                  width={400}\r\n                  height={300}\r\n                  alt=\"171x180\"\r\n                  src=\"https://www.nationalgeographic.com/content/dam/news/photos/000/795/79574.jpg\"\r\n                  thumbnail\r\n               />\r\n               <Figure.Caption id='profile-picture' className='w-100 mt-3'>\r\n                     <Container>\r\n                        <Row>\r\n                           <Col sm={10} md={10}>\r\n                              <h4>{userName}</h4>\r\n                           </Col>\r\n                           <Col sm={2} md={2}>\r\n\r\n                              <span id='profile-edit' className=''>\r\n                                 <EditAlt id='icon' size='18' title='edit name' />\r\n                              </span>\r\n\r\n                           </Col>\r\n                        </Row>\r\n                     </Container>\r\n               </Figure.Caption>\r\n            </Figure>\r\n         </div>\r\n\r\n         <section id='news-feed'>\r\n         </section>\r\n      </div>\r\n         )\r\n     }\r\n     \r\nexport default ClientDashboard;\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}